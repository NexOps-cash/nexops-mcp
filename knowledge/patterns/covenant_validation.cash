// PATTERN: 5-Point Covenant Validation
// Use this for ANY self-replicating covenant

function selfReplicate() {
    // 1. Same contract code (prevents code injection)
    require(tx.outputs[0].lockingBytecode == tx.inputs[0].lockingBytecode);
    
    // 2. Same token category (prevents category substitution)
    require(tx.outputs[0].tokenCategory == tx.inputs[0].tokenCategory);
    
    // 3. Expected satoshi value (prevents value extraction)
    require(tx.outputs[0].value == expectedValue);
    
    // 4. Expected token amount (prevents token extraction)
    require(tx.outputs[0].tokenAmount == expectedTokenAmount);
    
    // 5. Expected/new state commitment (prevents state manipulation)
    require(tx.outputs[0].nftCommitment == newCommitment);
}
